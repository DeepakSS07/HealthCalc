<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ideal Weight and BMI Calculator</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Optional: Font Awesome for Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            scroll-behavior: smooth;
            background: url('https://images.unsplash.com/photo-1511690656952-34342bb7c2f2?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mzh8fGhlYWx0aHl8ZW58MHx8MHx8fDA%3D') no-repeat center center fixed;
            background-size: cover;
            color: #fff; /* Ensuring text is readable */
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            z-index: 1;
            margin-top: 5px;
            flex-grow: 1; /* Makes the container fill available space */
        }

        .card {
            background-color: rgba(255, 255, 255, 0.85);
            border-radius: 15px;
            padding: 20px;
            color: #000;
        }

        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgb(216, 219, 219);
        }

        .footer {
            background-color: #343a40;
            color: white;
            padding: 10px 0;
            text-align: center;
            position: relative;
            bottom: 0;
            width: 100%;
        }

        .footer a {
            color: #ffc107;
            text-decoration: none;
        }

        .footer a:hover {
            color: #fff;
        }

        .btn-custom {
            transition: background-color 0.3s, transform 0.3s;
        }

        .btn-custom:hover {
            background-color: #0056b3;
            transform: scale(1.05);
        }

        .btn-calculate {
            display: block;
            width: 50%;
            margin: 0 auto;
            transition: background-color 0.3s;
        }

        .btn-calculate:hover {
            background-color: #004a99;
        }

        .output {
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <!-- Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}">HealthCalc</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('index') }}">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link " href="{{ url_for('food_analyzer') }}">Food Analyzer</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('suggestions') }}">Suggestions</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Calculator Section -->
    <section class="py-5" id="calculator">
        <div class="container">
            <div class="card shadow-lg">
                <div class="card-body">
                    <h2 class=" text-center mb-4">Ideal Weight & BMI Calculator</h2>
                    <form>
                        <div class="mb-3">
                            <label for="height" class="form-label">Height (cm):</label>
                            <input type="number" class="form-control" id="height" placeholder="Enter your height in cm" min="0">
                        </div>

                        <div class="mb-3">
                            <label for="age" class="form-label">Age:</label>
                            <input type="number" class="form-control" id="age" placeholder="Enter your age" min="1">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Gender:</label>
                            <div class="form-check">
                                <input type="radio" class="form-check-input" name="gender" value="male" id="male">
                                <label for="male" class="form-check-label">Male</label>
                            </div>
                            <div class="form-check">
                                <input type="radio" class="form-check-input" name="gender" value="female" id="female">
                                <label for="female" class="form-check-label">Female</label>
                            </div>
                        </div>

                        <button type="button" class="btn btn-primary w-50 d-block mx-auto" onclick="calculate()">Calculate</button>
                    </form>

                    <div class="output mt-4" id="output"></div>

                         <!--link Section-->
                    <div class="text-center mt-4">
                          <a href="{{ url_for('weightgain') }}" class="btn btn-success " target="_blank">Weight Gain Plan</a>
                          <a href="{{ url_for('weightloss') }}" class="btn btn-danger" target="_blank">Weight Loss Plan</a>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!--Explaination Section-->
        <section class="py-5">
            <div class="container">
                <div class="card shadow-lg">
                    <div class="card-body">
                        <h2 class="text-primary text-center mb-4">How We Calculate Ideal Weights</h2>
                        <p>
                            The Ideal Weight Calculator uses several well-known formulas to estimate the ideal body weight based on height, gender, and age. These formulas are commonly accepted in medical practice:
                        </p>
                        <ul>
                            <li><a href="https://pubmed.ncbi.nlm.nih.gov/6869387/" target="_blank"><strong>Robinson Formula:</strong></a> Developed in 1983, this formula is widely used to estimate ideal body weight for adults. </li>
                            <li><a href="https://www.ndsu.edu/pharmacy/faculty_staff/pharmacy_practice/d_miller/" target="_blank"><strong>Miller Formula:</strong></a> Also introduced in 1983, the Miller formula offers another approach to calculating ideal weight, adjusted for modern lifestyles. </li>
                            <li><a href="https://en.wikipedia.org/wiki/Human_body_weight#Devine_formula" target="_blank"><strong>Devine Formula:</strong></a> Created in 1974, this formula was originally designed for calculating drug dosages but is widely used to estimate ideal body weight. </li>
                            <li><a href="https://en.wikipedia.org/wiki/Human_body_weight#Hamwi_method" target="_blank"><strong>Hamwi Formula:</strong></a> Introduced in 1964, this formula is another widely used method for determining ideal weight. </li>
                            <li><a href="https://en.wikipedia.org/wiki/Body_mass_index" target="_blank"><strong>Healthy BMI Range:</strong></a> The calculator also provides the healthy weight range based on Body Mass Index (BMI), a simple index of weight-for-height that is commonly used to classify underweight, overweight, and obesity. </li>
                        </ul>
                        

                        <p>
                            There are limitations to all the formulas and methods. Because the formulas are designed to be as applicable to as wide a range of people as possible, they cannot be highly accurate for every single individual. Each formula offers a slightly different estimate, allowing you to compare and decide on the most suitable range for your health goals.
                        </p>
                    </div>
                </div>
            </div>
        </section>
        
    <!-- Footer -->
    <footer class="footer text-center">
        <div class="container">
            <p>&copy; 2024 HealthCalc. All rights reserved.</p>
        </div>
    </footer>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Optional: Font Awesome JS (if using icons) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>

    <script>
        function calculate() {
            let height = document.getElementById('height').value;
            let age = document.getElementById('age').value;
            let gender = document.querySelector('input[name="gender"]:checked')?.value;

            // Remove existing alerts
            const existingAlert = document.querySelector('.alert');
            if (existingAlert) {
                existingAlert.remove();
            }

            if (!height || !age || !gender) {
                showAlert("Please fill out all fields", "danger");
                return;
            }

            if (age <= 2 || height <= 0) {
                showAlert("Please enter valid inputs.", "warning");
                return;
            }

            // Convert height from cm to inches for the formulas
            let heightInInches = height / 2.54;
            let heightInMeters = height / 100;

            // Robinson Formula
            let robinson = gender === 'male' ? 
                52 + 1.9 * (heightInInches - 60) : 
                49 + 1.7 * (heightInInches - 60);

            // Miller Formula
            let miller = gender === 'male' ? 
                56.2 + 1.41 * (heightInInches - 60) : 
                53.1 + 1.36 * (heightInInches - 60);

            // Devine Formula
            let devine = gender === 'male' ? 
                50 + 2.3 * (heightInInches - 60) : 
                45.5 + 2.3 * (heightInInches - 60);

            // Hamwi Formula
            let hamwi = gender === 'male' ? 
                48.0 + 2.7 * (heightInInches - 60) : 
                45.5 + 2.2 * (heightInInches - 60);

            // Healthy BMI Range
            let minHealthyWeight = 18.5 * heightInMeters * heightInMeters;
            let maxHealthyWeight = 24.9 * heightInMeters * heightInMeters;

            // Display results with Bootstrap Cards
            let output = `
                <div class="card">
                    <div class="card-body">
                        <h4 class="text-center text-success">Results</h4>
                        <table class="table table-bordered text-center">
                            <thead>
                                <tr>
                                    <th>Formula</th>
                                    <th>Weight (kg)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Robinson (1983)</td>
                                    <td>${robinson.toFixed(2)} kg</td>
                                </tr>
                                <tr>
                                    <td>Miller (1983)</td>
                                    <td>${miller.toFixed(2)} kg</td>
                                </tr>
                                <tr>
                                    <td>Devine (1974)</td>
                                    <td>${devine.toFixed(2)} kg</td>
                                </tr>
                                <tr>
                                    <td>Hamwi (1964)</td>
                                    <td>${hamwi.toFixed(2)} kg</td>
                                </tr>
                                <tr>
                                    <td>Healthy BMI Range</td>
                                    <td>${minHealthyWeight.toFixed(2)} kg - ${maxHealthyWeight.toFixed(2)} kg</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            `;
            document.getElementById('output').innerHTML = output;
        }

        function showAlert(message, type) {
            let alert = document.createElement('div');
            alert.className = `alert alert-${type} alert-dismissible fade show`;
            alert.role = "alert";
            alert.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            `;
            document.querySelector('.container').insertBefore(alert, document.querySelector('.container').firstChild);
        }
    </script>

</body>
</html>

